@page "/NFC"
@inject IJSRuntime JSRuntime;
<h1>NFC</h1>

<p class="mt-2" style="font-size:1.6em">
    <span class="badge badge-success">
        @_convertedText
    </span>
</p>

<button type="button" class="btn btn-primary" onclick="NFCScan()">
    Scan
</button>
<div class="container" id="List">
  <div class="row">
    <div class="col-sm-4">
      <h3>Column 1</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <h3>Column 2</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <h3>Column 3</h3>        
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>
    </div>
  </div>
</div>
@code {
 // Quote (c)2005 Universal Pictures: Serenity
    // https://www.uphe.com/movies/serenity
    // David Krumholtz on IMDB: https://www.imdb.com/name/nm0472710/

    public static MarkupString _convertedText =
        new MarkupString("Select the <b>Convert Array</b> button.");
    
    private static Action _action;
    private static string _message = "Select the button.";
    
    protected override void OnInitialized()
    {
        _action = UpdateMessage;
    }
    
    private void UpdateMessage()
    {
       _convertedText = new MarkupString(_message);
       StateHasChanged();
    }
    
    [JSInvokable]
    public static void UpdateMessageCaller(string param)
    {
        _message = param;
        _action.Invoke();
    }
}
